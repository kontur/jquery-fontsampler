/*
 *  jquery-fontsampler - v0.0.4
 *  A jQuery plugin for displaying, manipulating and testing webfont type samples
 *  https://github.com/kontur/jquery-fontsampler
 *
 *  Made by Johannes Neumeier
 *  Under Apache 2.0 License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},i,c),this.otfeatures=[],this._defaults=i,this._name=h,this.init(),this.changeSize=function(a){this.setSize(a[1])},this.changeFont=function(a){this.settings.fontFiles=a[1],j=f(this.settings.fontFiles),this.setFont(j)},this.changeLetterSpacing=function(a){this.setLetterSpacing(a[1])},this.changeLeading=function(a){this.setLeading(a[1])},this.enableOTFeature=function(a){this.otfeatures.indexOf(a[1]===-1)&&(this.otfeatures.push(a[1]),this.updateOTFeatures())},this.disableOTFeature=function(a){var b=this.otfeatures.indexOf(a[1]);b>-1&&(this.otfeatures.splice(b,1),this.updateOTFeatures())},this.changeLang=function(a){this.setLang(a[1])}}function f(a){var b=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,20),d=c.createElement("style");return d.setAttribute("data-generated-by","fontsampler"),d.appendChild(c.createTextNode(g(b,a))),c.head.appendChild(d),b}function g(a,b,c,d){if("undefined"==typeof a||"undefined"==typeof b||!b)return"";var e="";"undefined"==typeof c&&(c="normal"),"undefined"==typeof d&&(d="normal"),e=e.concat("\n"),e=e.concat("@font-face {\n"),e=e.concat("font-family: '"+a+"';\n");for(var f=["eot","woff2","woff","ttf","svg"],g=0,h=Object.keys(b).length,i=0;i<f.length;i++){var j=f[i];j in b&&("eot"===j?(e=e.concat("src: url( '"+b.eot+"' );\n"),e=e.concat("src: url( '"+b.eot+"?#iefix' ) format( 'embedded-opentype' )"),g++):(0===g&&(e=e.concat("src: ")),e="ttf"===j?e.concat("url( '"+b.ttf+"' ) format( 'truetype' )"):"svg"===j?e.concat("url( '"+b.svg+"#"+a+"' ) format( 'svg' )"):e.concat("url( '"+b[j]+"' ) format( '"+j+"' )"),g++),e=g<h?e.concat(",\n"):e.concat(";\n"))}return e=e.concat("font-weight: "+c+";\n"),e=e.concat("font-style: "+d+";\n"),e=e.concat("}\n")}var h="fontSampler",i={fontFiles:null,multiLine:!0,fontSize:"18px",letterSpacing:"0px",leading:"100%"},j="";a.extend(e.prototype,{init:function(){var b=a(this.element).data("font-files");"object"==typeof b&&(this.settings.fontFiles=a.extend({},this.settings.fontFiles,b)),j=f(this.settings.fontFiles),this.setupUI(),this.setFont(j),this.setSize(this.settings.fontSize),this.setLetterSpacing(this.settings.letterSpacing),this.setLeading(this.settings.leading),this.updateOTFeatures()},setupUI:function(){var b=this;a(this.element).attr("contenteditable","true"),a(this.element).on("keypress keyup change paste",function(a){var c=b.onUpdate(a,b);return c||a.preventDefault(),c})},onUpdate:function(b,c){if(c.settings.multiLine===!1)if("keypress"===b.type){if(13===b.keyCode)return!1}else{var d=a(c.element).text().replace("/\n/gi","");a(c.element).html(d)}return!0},setFont:function(){a(this.element).css("fontFamily",j)},setSize:function(b){a(this.element).css("font-size",b)},setLetterSpacing:function(b){var c=a(this.element).css("line-height");a(this.element).css({"letter-spacing":b,"line-height":c})},setLeading:function(b){a(this.element).css("line-height",b)},updateOTFeatures:function(){var b,c,d=[],e={liga:["no-common-ligatures","common-ligatures"],dlig:["no-discretionary-ligatures","discrectionary-ligatures"],hlig:["no-historical-ligatures","historical-ligatures"],calt:["no-contextual","contextual"]};0===this.otfeatures.length?b="inherit":(b="'",b=b.concat(this.otfeatures.join("','")),b=b.concat("'")),a(this.element).css({"-webkit-font-feature-settings":b,"-moz-font-feature-settings":b,"-ms-font-feature-settings":b,"font-feature-settings":b});for(var f=["liga","dlig","hlig","calt"],g=0;g<f.length;g++){var h=f[g];this.otfeatures.indexOf(h)>-1?d.push(e[h][1]):d.push(e[h][0])}c=d.join(" "),a(this.element).css({"-webkit-font-variant-ligatures":c,"-moz-font-variant-ligatures":c,"-ms-font-variant-ligatures":c,"font-variant-ligatures":c})},setLang:function(b){if(2!==b.length)throw"fontSampler.changeLang(): Language string must be 2 characters HTML lang attribute value";a(this.element).attr("lang",b)}}),a.fn[h]=function(b){var c=arguments;return this.each(function(){if(a.data(this,"plugin_"+h)){if(a.data(this,"plugin_"+h)&&a(this).data("plugin_"+h)[b]!==d)return a(this).data("plugin_"+h)[b](c);console.log("fontSampler non existing method called")}else a.data(this,"plugin_"+h,new e(this,b))})}}(jQuery,window,document);