/*
 *  jquery-fontsampler - v0.0.1
 *  A jQuery plugin for displaying, manipulating and testing webfont type samples
 *  https://github.com/kontur/jquery-fontsampler
 *
 *  Made by Johannes Neumeier
 *  Under Apache 2.0 License
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},i,c),this._defaults=i,this._name=h,this.init(),this.changeSize=function(a){this.setSize(a[1])},this.changeFont=function(a){j=f(a[1]),this.setFont(j)},this.changeLetterSpacing=function(a){this.setLetterSpacing(a[1])},this.changeLeading=function(a){this.setLeading(a[1])}}function f(a){var b=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,20),d=c.createElement("style");return d.appendChild(c.createTextNode(g(b,a))),c.head.appendChild(d),b}function g(a,b,c,d){if(console.log(a,b),"undefined"==typeof a||"undefined"==typeof b||!b)return"";var e="";"undefined"==typeof c&&(c="normal"),"undefined"==typeof d&&(d="normal"),e=e.concat("\n"),e=e.concat("@font-face {\n"),e=e.concat("font-family: '"+a+"';\n");for(var f=["woff"],g=0;g<f.length;g++){var h=f[g];h in b&&("eot"===h?(e=e.concat("src: url('"+b.eot+"');\n"),e=e.concat("src: url('"+b.eot+"?#iefix') format('embedded-opentype')")):(0===g&&(e=e.concat("src: ")),e="ttf"===h?e.concat("url('"+b.ttf+"') format('truetype')"):"svg"===h?e.concat("url('"+b.svg+"#"+a+"') format('svg')"):e.concat("url('"+b[h]+"') format('"+h+"')")),e=g<f.length-1?e.concat(",\n"):e.concat(";\n"))}return e=e.concat("font-weight: "+c+";\n"),e=e.concat("font-style: "+d+";\n"),e=e.concat("}\n")}var h="fontSampler",i={fontFiles:null,multiLine:!0},j="";a.extend(e.prototype,{init:function(){j=f(this.settings.fontFiles),this.setupUI(),this.setFont(j)},setupUI:function(){var b=this;a(this.element).attr("contenteditable","true"),a(this.element).on("keypress",function(a){return b.onKeyPress(a,b)})},onKeyPress:function(a,b){if(b.settings.multiLine===!1&&13===a.keyCode)return!1},setFont:function(){a(this.element).css("fontFamily",j)},setSize:function(b){a(this.element).css("font-size",b)},setLetterSpacing:function(b){a(this.element).css("letter-spacing",b)},setLeading:function(b){a(this.element).css("line-height",b)}}),a.fn[h]=function(b){var c=arguments;return this.each(function(){if(a.data(this,"plugin_"+h)){if(a.data(this,"plugin_"+h)&&a(this).data("plugin_"+h)[b]!==d)return a(this).data("plugin_"+h)[b](c);console.log("fontSampler non existing method called")}else"object"!=typeof b||b===d?console.log("fontSampler initialized without or invalid options"):a.data(this,"plugin_"+h,new e(this,b))})}}(jQuery,window,document);